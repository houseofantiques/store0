<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title data-i18n="auction_page_title">ุจูุช ุงูุชุญููุงุช | ุงููุฒุงุฏ</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body data-page="auction">
  <div class="overlay"></div>

  <div class="app">
    <div class="shell">

      <!-- โ TOPBAR -->
      <header class="topbar">
        <div class="brand">
          <div class="mark">
            <img src="logo.png" alt="ุดุนุงุฑ ุจูุช ุงูุชุญููุงุช">
          </div>

          <div class="brandText">
            <div class="brandName" data-i18n="auction_title">ูุทุน ุงููุฒุงุฏ</div>
            <div class="brandSub" data-i18n="store_tagline">ุญูุซ ุชุชุญููู ุงููุทุน ุฅูู ุญูุงูุงุช</div>
          </div>
        </div>

        <div class="topActions">
          <a class="btn ghost" href="index.html" data-i18n="back_to_store">ุงูุฑุฌูุน ูููุชุฌุฑ</a>

          <div class="langBox">
            <span class="langLabel" data-i18n="lang_label">ุงููุบุฉ</span>
            <select id="langSelect" class="langSelect" aria-label="Language">
              <option value="ar" data-i18n="lang_ar">AR</option>
              <option value="en" data-i18n="lang_en">EN</option>
              <option value="ku" data-i18n="lang_ku">KU</option>
            </select>
          </div>
        </div>
      </header>

      <!-- โ HERO (Compact Auction Search + Filters) -->
      <section class="hero compact">
        <div class="heroText">
          <div class="searchRow">
            <input
              id="searchInput"
              class="searchInput"
              type="search"
              data-i18n-placeholder="search_placeholder"
              placeholder="ุงุจุญุซ ุจุงุณู ุงููุทุนุฉ ุฃู ุงูููุฏ..."
            />
            <div class="resultsCount" id="resultsCount">0 ูุชุงุฆุฌ</div>
          </div>

          <div class="chipsHeader">
            <div class="chipsTitle" data-i18n="categories">ุงูุชุตูููุงุช</div>
          </div>
          <div class="chipsWrap" id="chipsWrap"></div>

          <div class="filtersRow">
            <div class="filter">
              <label class="filterLabel" for="sortSelect" data-i18n="sort_label">ุงูุชุฑุชูุจ</label>
              <select id="sortSelect" class="filterSelect">
                <option value="featured" data-i18n="sort_featured">ูููุฒ</option>
                <option value="newest" data-i18n="sort_newest">ุงูุฃุญุฏุซ</option>
                <option value="priceAsc" data-i18n="sort_price_asc">ุงูุณุนุฑ: ุงูุฃูู</option>
                <option value="priceDesc" data-i18n="sort_price_desc">ุงูุณุนุฑ: ุงูุฃุนูู</option>
              </select>
            </div>

            <div class="filter">
              <label class="filterLabel" for="showSelect" data-i18n="show_label">ุนุฑุถ</label>
              <select id="showSelect" class="filterSelect">
                <option value="all" data-i18n="show_all">ุงููู</option>
                <option value="fav" data-i18n="show_favorites">ุงูููุถูุฉ</option>
              </select>
            </div>
          </div>

        </div>
      </section>

      <!-- โ GRID -->
      <section class="gridSection">
        <div id="emptyState" class="emptyState" style="display:none;">
          <div class="emptyTitle" data-i18n="no_results">ูุง ููุฌุฏ ูุชุงุฆุฌ</div>
          <div class="emptySub" data-i18n="try_filter">ุฌุฑูุจ ุชุจุฏููู ุงูุชุตููู ุฃู ุชูููู ูููุงุช ุงูุจุญุซ.</div>
        </div>

        <div class="productsGrid" id="productsGrid"></div>
      </section>

      <!-- โ FOOTER -->
      <footer class="footer">
        <div class="footerBrand" data-i18n="footer_brand">ุจูุช ุงูุชุญููุงุช</div>
        <div class="footerTag" data-i18n="footer_tagline">ุจุบุฏุงุฏ - ุฃุจู ูุคุงุณ / ููุฐุงูุฑุฉุ ููุชูุซููุ ูููุฃุซุฑ</div>
      </footer>

    </div>
  </div>

  <!-- โ MODAL (same as store) -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="modalDialog" role="dialog" aria-modal="true">
      <button class="modalClose" id="modalClose" type="button" data-i18n="close">ุฅุบูุงู</button>

      <div class="modalHead">
        <div class="modalTitleRow">
          <h3 class="modalTitle" id="modalTitle">โ</h3>
          <span class="badge auction" id="modalBadge" style="display:none;">ูุฒุงุฏ</span>
        </div>

        <div class="modalMeta">
          <div class="metaLine"><span class="metaK" data-i18n="code_label">ุงูููุฏ</span> <span class="metaV" id="modalCode">โ</span></div>
          <div class="metaLine"><span class="metaK" data-i18n="price_label">ุงูุณุนุฑ</span> <span class="metaV" id="modalPrice">โ</span></div>
          <div class="metaLine"><span class="metaK">Status</span> <span class="metaV" id="modalStatus">โ</span></div>
        </div>

        <div class="modalTabs" role="tablist" aria-label="tabs">
          <button class="tab active" type="button" data-modal-tab="details" data-i18n="tab_details">ุชูุงุตูู</button>
          <button class="tab" type="button" data-modal-tab="order" data-i18n="tab_order">ุงุทูุจ</button>
        </div>
      </div>

      <div class="modalBody">
        <div class="modalCols">
          <div class="modalLeft">
            <div class="modalImage">
              <img id="modalMainImg" src="" alt="" />
            </div>
            <div class="thumbs" id="modalThumbs"></div>

            <div class="modalShare">
              <button class="btn ghost" type="button" id="shareWaBtn" data-i18n="share_whatsapp">ูุดุงุฑูุฉ ูุงุชุณุงุจ</button>
              <button class="btn ghost" type="button" id="copyLinkBtn" data-i18n="copy_link">ูุณุฎ ุงูุฑุงุจุท</button>
              <button class="btn ghost" type="button" id="favBtn">โก</button>
            </div>
          </div>

          <div class="modalRight">
            <section data-modal-panel="details">
              <p class="modalDesc" id="modalDesc">โ</p>
            </section>

            <section data-modal-panel="order" style="display:none;">
              <div class="formBlock">
                <div class="formTitle" data-i18n="customer_data">ุจูุงูุงุช ุงูุฒุจูู</div>

                <div class="formGrid">
                  <div class="field">
                    <label data-i18n="full_name">ุงูุงุณู ุงููุงูู</label>
                    <input id="orderName" type="text" data-i18n-placeholder="ph_full_name" placeholder="ูุซุงู: ุทุงุฑู ูุญูุฏ ุนูู" />
                  </div>
                  <div class="field">
                    <label data-i18n="phone">ุฑูู ุงููุงุชู</label>
                    <input id="orderPhone" type="tel" data-i18n-placeholder="ph_phone" placeholder="07xxxxxxxxx" />
                  </div>
                  <div class="field">
                    <label data-i18n="governorate">ุงููุญุงูุธุฉ</label>
                    <input id="orderGov" type="text" data-i18n-placeholder="ph_governorate" placeholder="ูุซุงู: ุจุบุฏุงุฏ" />
                  </div>
                  <div class="field">
                    <label data-i18n="area">ุงูููุทูุฉ</label>
                    <input id="orderArea" type="text" data-i18n-placeholder="ph_area" placeholder="ูุซุงู: ุฃุจู ูุคุงุณ" />
                  </div>
                  <div class="field full">
                    <label data-i18n="nearest_landmark">ุฃูุฑุจ ููุทุฉ ุฏุงูุฉ</label>
                    <input id="orderLandmark" type="text" data-i18n-placeholder="ph_landmark" placeholder="ูุซุงู: ูุฑุจ ูุฌูุน ููุฑููุด ุฃุจู ูุคุงุณ" />
                  </div>
                  <div class="field full">
                    <label data-i18n="notes_optional">ููุงุญุธุงุช (ุงุฎุชูุงุฑู)</label>
                    <textarea id="orderNotes" rows="3" data-i18n-placeholder="ph_notes" placeholder="ูุซุงู: ุฃุฑูุฏ ูุนุงููุฉ ุงููุทุนุฉ / ุชุบููู ูุฏูุฉ..."></textarea>
                  </div>
                </div>

                <div class="formActions">
                  <button class="btn primary" type="button" id="orderWhatsApp" data-i18n="order_whatsapp">ุงุทูุจ ุนุจุฑ ูุงุชุณุงุจ</button>
                  <button class="btn ghost" type="button" id="copyOrder" data-i18n="copy_order_details">ูุณุฎ ุชูุงุตูู ุงูุทูุจ</button>
                </div>
              </div>
            </section>

          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- โ Translation + Products -->
  <script src="i18n.js"></script>
  <script src="products.js"></script>

  <!-- โ IMPORTANT: Force Auction-only before script.js renders -->
  <script>
    (function(){
      "use strict";

      // ุนูุงูุฉ ูุงุถุญุฉ ููุตูุญุฉ (ุฅุฐุง script.js ูุณุชููุฏ ูููุง)
      window.__PAGE__ = "auction";
      window.__AUCTION_ONLY__ = true;

      // ููุชุฑุฉ ุงูููุชุฌุงุช (ุญุชู ูู script.js ูุณุชุฎุฏู PRODUCTS ูุจุงุดุฑุฉ)
      if (Array.isArray(window.PRODUCTS)) {
        window.PRODUCTS = window.PRODUCTS.filter(p => p && p.auction === true);
      }
    })();
  </script>

  <!-- โ Main behavior -->
  <script src="script.js" defer></script>
  <!-- EmailJS -->
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

<script>
(function(){
  emailjs.init("tivoinl7MHIKAOORE"); // ๐ด ุจุฏููู ุจููุชุงุญู
})();
</script>

</body>
</html>
